---
title: "Model structure"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{model_dimensions}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
resource_files:
  bib/mapspam.bib
bibliography: bib/mapspam.bib
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

To structure and dimensions of SPAMc are defined by the combination of predefined number of crops and farming systems, and several parameters that are set by the user. Changing these parameters

The number of crops and farming systems are similar to those used by SPAM 

## Predefined dimensions

### Number of crops

SPAMc models 40 different crop (and crop groups) that together cover the full agricultural sector and are each identified by a four letter code (Table 1).^[Global SPAM uses 42 different crops because it includes two types of millet and two types of coffee [@Wood-Sichra2016]. As this level of detail is not supported by most national statistics and FAOSTAT, the have been merged into millet and coffee, respectively.] The main reason for this classification is the limited availability of crop-specific biophysical suitability maps, which form a key element in the crop allocation process (see [spatial data](process_spatial_data.html) for more information). It would be relatively easy to add new crops by splitting them off from broader crop groups  (e.g. tropical and temperate fruits, and vegetables) if appropriate agricultural statistics and suitability maps would be available. We plan to add an example on how to do this in future updates. The actual number of crops in the model is determined by the number of crops that are actually grown in the target country and identified by the availability of national statistics.

```{r}
# Add 40 crop table
```


### Number of farming systems

Also similar to global SPAM, SPAMc distinguises between four different farming systems:

- Rainfed subsistence
- Rainfed low-input
- Rainfed high-input
- Irrigated



## User defined dimensions

### Country

Can be run for any country for which at least national crop statistics are available

### Year

Year. Relevant to select matching spatial information that is available for multiple years, in particular cropland exent, population and travel time (see [spatial data](process_subnat_stat.html).


### Spatial resolution

Two options 5 arcmin and 30 arcsec. Implications as 30 arcsec increases the number of grid cells and hence model dimension by a factor 100. Has implications for (1) which type of model to use and (2) How the model can be solved.


### Depth of subnational statistics
 Adm 0, 1, 2.
 
 TODO add restriction in set par that combination of solve = 1 and adm_lev 0 is not possible!!
 
 


## Model solve parameters 

Solve = 0 and solve = 1
