---
title: "Create synergy cropland map"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Create synergy cropland map}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

A key feature of SPAMc is to allocate the crop statistics to areas identified as cropland on a map - the cropland extent. As described in the section on [Input data](data.html), we use a so-called synergy cropland map to account for the uncertainty in the location of cropland. The synergy cropland map combines different cropland products to construct one map that presents the mean and maximum available crop area per grid cell as well as a ranking that measures the agreement between the various cropland products. A ranking of 1 means that all sources agree there is cropland in a grid cell, while higher rankings signals more disagreement. The highest ranking depends on the number of cropland products that are compared. 

[TODO add example on how to construct a synergy cropland map for 2010]

For 2010, we can make use of the global synergy map that was prepared for SPAM2010 [@Lu2020].  The function `prepare_cropland()` combines the three synergy cropland components (medium and maximum cropland and cropland ranking map) and, in case `solve_level = 1` is selected, breaks up the data in to administrative level 1 chunks. The resulting files are saved in subfolders in the`processed_data/intermediate_output` folder, using either the iso3c code as name (`solve_level = 0`) or administrative unit level 1 names (`solve_level = 1`).

```{r eval = FALSE}
# Function to process the synergy cropland components.
prepare_cropland(param)
```

